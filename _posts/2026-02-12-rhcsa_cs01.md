---
share_link: https://share.note.sx/14wrkh0w#BLTIphtmfnVzAL5uQVf4ieXkWYxYTG87/S7O1ZaGn44
share_updated: 2026-02-12T20:35:36+09:00
---
## 개요
덤프를 풀며 공부한 이론을 정리해두는 문서.

## 이론

### nmcli

네트워크 설정을 확인하고 제어하는 명령어.
네트워크 관리의 표준이자 핵심.

쉽게 말해, 윈도우의 '네트워크 및 공유 센터'에 들어가서 마우스로 하던 일을 cli 환경에서 하는 것.
- 네트워크 상태 확인: 현재 랜선이 꽂혀있는지, IP는 뭔지
- 연결 설정: 고정 IP(Static)을 할당하거나 DHCP 모드로 변경
- 장치 관리: 특정 랜카드(이더넷 카드)를 켜거나 끔.
- Wi-Fi 관리: 주변 와이파이를 검색하고 비밀번호를 입력해서 연결.
- DNS 설정

크게 device와 connection 두 가지 개념으로 나뉨.

**1. 전체적인 상태 보기**
현재 시스템의 요약 상태를 보여줌.
```bash
nmcli device status
```

**2. 상세 정보 확인**
IP, 게이트웨이, DNS 등 상세 정보 확인.
```bash
nmcli device show [장치명]
```

**3. 네트워크 연결 활성화 / 비활성화**
랜카드를 꼈다 켜는 것과 같은 역할을 함.
```bash
nmcli connection up [이름]
nmcli connection down [이름]
```

**4. 고정IP 설정하기**
```bash
nmcli connection modify [이름] ipv4.addresses 192.168.1.10/24 ipv4.gateway 192.168.1.1 ipv4.method manual
nmcli connection up [이름]
```
- ipv4.addresses: ip와 서브넷마스크 설정
- ipv4.gateway: 게이트웨이 설정
- ipv4.method manual: ***(\*필수!!)*** 자동(DHCP)를 쓰지 않고 내가 직접 설정하겠다는 의미
	- ipv4.method auto일 경우 다른 설정값은 무시된다.


**5. \[이름]을 확인하는 방법**

\[이름]은 진짜 하드웨어 장치명이 아니라 연결 프로필 이름임.
그러니까 ens33이나 eth0가 아니라 그 장치에 부여된 설정 이름.(근데 보통은 둘이 똑같긴 함)

---

> [!info] down은 안 하고 up만 하는 이유
> 일단 modify만 하면 설정이 파일에만 저장된 상태라 up을 해줘야 실제로 반영된다. up만 해도 알아서 재시작이 된다.
> 만약 ssh 등으로 연결한 상태일 경우, down을 해버리면 ssh가 끊겨서 튕겨져나가는 대참사가 발생할 수 있으니 down은 절대 하지 말자.


> [!info] (여담...) ifconfig vs nmcli 
> 학부생 때 리눅스를 얕게 써본 바로 ifconfig는 종종 써봤지만 nmcli는 처음 듣는다.
> 둘의 차이점을 찾아보니 ifconfig는 구식, deprecated 된 툴이라고 한다.
> - ifconfig: 커널의 네트워크 인터페이스를 직접 건드리며, 재부팅하면 초기화됨. 일시적 설정에는 유용.
> - nmcli: NetworkManager라는 서비스(데몬)을 통해 제어하며, 설정 파일에 영구 저장됨. 따라서 복잡한 팀 구성(Teaming), 브릿지, VPN 등 통합 관리에 유용함.

---

추가로, VMWare에서 아래 문제를 따라 해봤는데

```
node1의 네트웍구성을 아래와 같이 변경하세요.

Host Name: node1.domain250.example.com
IPv4 address: 172.25.250.100
Subnet mask： 255.255.255.0
Gateway： 172.25.250.254
DNS： 172.25.250.254
```
변경한 후에 ping google.com이 먹통이었다.
이 설정 한 것 때문에 인터넷이 끊긴 거 같았는데, gateway로 날려도 Destination host unreachable이라고 뜨더라.
물론 시험환경이 아니기 때문에 신경쓰지 않아도 될지 모르지만 궁금해서 제미나이에게 물어봤다.

이 메시지의 뜻은 "니 지금 IP가 이상하다" 라는 뜻이다.
보냈는데 응답이 없다거나 수신지의 상태가 정상이 아니다, 수신지가 없다 이게 아니고
보내려다가 "어? 니 송신자 IP가 왜그럼?" 하고 리눅스가 스스로 패킷을 폐기해버리는 것이라 한다.
(내 IP는 172~ 인데 연결된 가상 스위치(VMnet8)은 192~였으니까...)

아무튼 문제위치를 확인하는 법.

1. VMWare의 네트워크 설정이 Bridged(VMnet0) 이면, 내 호스트 컴퓨터의 공유기 대역을 그대로 이어 쓴다. NAT(VMnet8)이면 VMware가 자체적으로 만든 가상 대역을 쓴다. 어느쪽이든 허용된 대역 내에서 정의돼있어야만 ip를 쓸 수 있다.
- VMware의 현재 설정 확인하는 법:
	- VMware 우측하단의 ![](홈/Project/직무전환_SE/attatchments/Pasted%20image%2020260212201024.png) 아이콘을 누른다.
	- ![](홈/Project/직무전환_SE/attatchments/Pasted%20image%2020260212201009.png)
	- NAT으로 돼있는 걸 확인.
		- host-only: 죽었다 깨도 외부 네트워크를 쓸 수 없음. 호스트 컴퓨터와의 통신만 가능.(RHCSA 시험장은 보통 이 상태라고 한다.)
		- NAT: 대역을 가상으로 설정할 수 있으며 호스트 컴퓨터를 통해 외부 네트워크로 나갈 수 있음. 외부에서는 VMWare인지 모르고 호스트 컴퓨터로 인식한다고 한다.
		- Bridged: 호스트 컴퓨터와 동일한 대역을 사용.
2. NAT이면 외부인터넷이 되는 환경임은 맞다. 그럼 다음으로 NAT에서 지정한 가상 범위가 내 설정값과 맞는지 확인한다.
		- Edit > Virtual Network Editor 에서 VMnet8 부분을 보면 된다. 참고로 VMnet1도 Connected로 뜰 텐데, host-only는 외부 네트워크 못 쓴다며? 나는 이 설정 하기 전까진 인터넷 잘 됐는데?? 하는 의문이 들었다. 알고보니 실제로는 VMnet8 하나의 스위치에만 연결돼있는 상태라고 한다. VMnet1은 기본값이 host-only, VMnet8은 NAT인데 현재 NAT이다. 역으로 현재 NAT에 연결돼있다는 건 활성화 된 스위치 중 정확히 VMnet8에 연결돼있다는 뜻인 것이다. 그러니 VMnet8의 설정을 봐야 한다.
		- ![](홈/Project/직무전환_SE/attatchments/Pasted%20image%2020260212201449.png)
		- ![](홈/Project/직무전환_SE/attatchments/Pasted%20image%2020260212201523.png)
		- 여기가 문제였다. (스샷은 내가 고친 후라서 옳은 값임)
		- gateway와 Subnet IP 부분을 시험에 맞게 고쳐두었다. 그럼 이제 이 컴퓨터의 대역폭은 172.25.250.1 ~ 172.25.250.254가 되고 gateway도 172.25.250.254에 실제로 위치하게 되어, 내가 해둔 설정이 통하게 된다.
		- 참고로 왜 gateway랑 dns서버가 똑같이 172.25.250.254인가 궁금했는데 그냥 통상적으로 그렇게 쓴다고 하더라.


