---
title: RHCSA CS06 - chgrp, chmod
author: Me
date: 2026-02-18
categories:
  - 취업준비
  - 리눅스
published: true
---

## 문제

```
다음 특징을 가진 협업 디렉토리 /home/managers를 생성하세요:

/home/managers의 그룹 소유자는 sysmgrs여야 합니다.
디렉토리는 sysmgrs 그룹의 구성원만 읽기, 쓰기 및 접근할 수 있으며, 다른 사용자는 이러한 권한을 가지지 않습니다. (물론, root 사용자는 시스템의 모든 파일과 디렉토리에 접근할 수 있습니다.)
/home/managers에 생성된 파일은 자동으로 그룹 소유권이 sysmgrs 그룹으로 설정되어야 합니다.

```

## 풀이

```
# 1. 그룹을 생성
groupadd sysmgrs

# 2. /home/managers 디렉터리를 생성
mkdir /home/managers

# 3. [조건1] /home/managers의 그룹 소유자를 sysmgrs로 설정
chown :sysmgrs /home/managers

# 4. [조건2] 그룹 권한을 읽기, 쓰기, 접근으로 설정
# 5. [조건3] 자식 파일은 자동으로 부모 디렉터리의 그룹 소유를 상속받음
chmod 2770 /home/managers
# chmod 770,g+s /home/managers 로도 가능
# 특수권한을 SetGID(2)로, 파일의 rwx를 770으로 설정함.

# 검증
ls -ld /home/managers
# drwxrwS--- 으로 떠야함.
```

## \<추가 정보>

### 특수권한 SetGID는 뭔가??

일단 chmod 770은 익숙한 형태인데 chmod g+s나 2770은 좀 낯설다.

770은 user(소유자)에게 7(111=rwx)을, group에게 7을, other에게 0(아무 권한 없음)을 설정하는 건데
`chmod u=rwx,g=rwx,o= /home/managers`와 정확히 똑같은 역할을 한다.

여기서 예를 들어

```
g=r은 group을 딱 r 권한만 갖고있도록 설정하고
g+r은 기존에 +로 r 권한 추가
g-r은 기존에 r 권한이 있었다면 취소
```

이런식으로 가는 걸 생각하면...

g+s는 "group권한에 s를 추가한다"라는 뜻일 텐데

rwx도 아닌 s는 무엇인가 하니 SetGID란다.
g+s는 SetGID고, u+s는 SetUID다.
근데 어째선지 sticky bit는 o+t더라. (sticky면 s여야 하는 거 아닌지..??)

하여간에 그래서 이 특수권한은
- SetUID (4)
- SetGID (2)
- Sticky Bit (1)
세 가지로 이뤄져서 rwx의 777과 같은 비트값으로 설정하는 것이다.

이게 설정돼있다면 파일 정보에서 d rwx rwx rwx 같은 형태로 보일 때 x 위치가 s로(sticky bit라면 t로) 바뀌어 보인다고 한다.
![image](assets/img/2026-02-18-rhcsa_cs06/IMG-20260218230234172.png)
이렇게..
사진은 drwxrws---인데 즉 디렉터리 파일이고(d), 소유자 권한은 rwx(읽고 쓰고 조회할 수 있고(디렉터리니까) ), 그룹도 rwx이고, 일반 사용자는 권한이 없고, SetGID가 설정돼있으며 SetUID와 Sticky Bit는 설정되지 않은 상태라는 걸 알 수 있따.


- SetUID는 `파일에서만 유효한 설정. 파일을 실행하는 동안 파일 소유자의 권한을 잠시 빌려오는 기능.`
- SetGID는 `파일의 경우:파일을 실행하는 동안 파일 소유그룹 권한을 잠시 빌려오는 권한. 디렉토리의 경우:생성된 파일에 그룹 소유권을 상속.`
- Sticky Bit는 `디렉토리에서만 유효한 설정. 공유 디렉토리라는 뜻으로 이 안의 파일은 해당 파일 소유자만 삭제 가능.`

참고로, SetUID를 디렉토리에 설정하거나 Sticky Bit를 파일에 설정하면 설정은 되지만 뭐 아무 기능도 하지 않는다고 한다.

### x 자리를 s가 대체하면 x권한 여부는 어떻게 앎?

rws면 rwx + s인지 rw\- + s인지 어떻게 알까? 라는 의문이 들었는데

이 문제는 대문자와 소문자로 구분할 수 있다고 한다.

- 대문자: 실행권한 없음
- 소문자: 실행권한 있음

가령 `drwsrwS--t`일 경우: user는 실행권한 있고 group은 실행권한 없고 others는 실행권한 있음!

직관적으로 실행권한이 있으면 '대문자'가 돼야할 것 같지만 실제로는 반대다.. 헷갈리지 않게 주의하자.


> **진짜 아무래도 좋을 정보: sticky bit가 o+t인 이유**
> 제미나이피셜 첫째로 과거에 Sticky Bit는 Save Text라 불렸기 때문에 t라고 불리고, 둘째로 s가 있으면 SetOthers로 느껴져서 'Others 소유자 권한 빌리기'로 오해할 수 있기 때문이라고 함.
> ...근데 Save Text여도 's'아닌가?
> 그리고 Others는 '소유자도 그룹도 아닌 나머지'라서 특정한 사용자가 아니기 때문에 오해할 일은 없지 않나 의문이 든다.

> **진짜 아무래도 좋을 정보 2: 소유자가 왜 owner가 아니고 user임?**
> owner는 초성이 o라서 others랑 헷갈리기 때문에 user로 구분해서 사용한다고 한다.